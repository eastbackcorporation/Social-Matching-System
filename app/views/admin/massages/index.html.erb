<div class="center_content">

	<div class="left_content">

		<div class="sidebarmenu">

			<a class="yellow_button" href="<%= admin_users_url %>">ユーザー管理</a>

			<a class="green_button" href="<%= admin_massages_url %>">マッチング管理</a>

			<a class="blue_button" href="<%= edit_admin_global_setting_url(1) %>">共通設定管理</a>

		</div>

	</div>

	<div class="right_content">
    <%=raw jqgrid("依頼情報一覧", "Message", "/admin/massages",
      [
        { :name => "id", :label => "id", :index => 'id',:align => 'center', :width => "55", :hidden => true },
        { :name => "category.name", :label => "カテゴリ", :index => 'category_id',:align => 'center', :width => "55" },
        { :name => "status.name", :label => "ステータス", :index => 'status_id',:align => 'center', :width => "55" },
        { :name => "active_datetime",
          :label => "実施日",
          :index => 'active_datetime',
          :align => 'center',
          :sorttype => 'date',
          :formatter => 'date',
          :formatoptions => {
            :srcformat => "UniversalSortableDateTime",
            :newformat => 'Y年 m月d日 g時i分'
          }
        },
        { :name => "validated_datetime",
          :label => "有効期限",
          :index => 'validated_datetime',
          :align => 'center',
          :sorttype => 'date',
          :formatter => 'date',
          :formatoptions => {
            :srcformat => "UniversalSortableDateTime",
            :newformat => 'Y年 m月d日 g時i分'
          }
        },
        { :name => "id",
          :label => "操作",
          :search => false,
          :sortable => false,
          :align => 'center',
          :width => "55",
          :customFormatter => 'makeLink'
        }
      ],
      {
        :autowidth => true,
        :edit => false,
        :add => false,
        :view => false,
        :delete => false,
        :rowNum => 30,
        :rowList => [10,20,30,50],
        :height => 300,
      }
    ) %>
	</div><!-- end of right content-->
</div>
<!--end of center content -->

<script type="text/javascript">
	function makeLink(cellvalue, options, rowObject){
		var url = "/admin/massages/"
		showUrl = url + cellvalue;
		editUrl = url + cellvalue + "/edit"
		return "<a href='" + showUrl + "'>詳細</a>";
	}
</script>

