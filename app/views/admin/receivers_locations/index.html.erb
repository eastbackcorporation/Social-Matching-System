<div class="center_content">

  <%= render "admin/sidemenu" %>

  <div class="index_content">

    <%=raw jqgrid("位置情報一覧", "ReceiversLocations", "/admin/receivers_locations",
      [
        { :name => "id", :label => "id", :index => 'id', :width => "70", :hidden => true },
        { :name => "user.login", :label => "ログイン名", :index => 'user_id', :align => "center", :width => 50 },
        { :name => "latitude", :label => "緯度", :align => "center", :width => 50 },
        { :name => "longitude", :label => "経度", :align => "center", :width => 50 },
        { :name => "updated_at", :label => "更新日時",:align => "center", :width => 70 ,
          :sorttype => 'date',
          :formatter => 'date',
          :align => "center",
          :formatoptions => {
            :srcformat => "UniversalSortableDateTime",
            :newformat => 'Y/m/d G:i'
          }},
          { :name => "id",
          :label => "地図",
          :search => false,
          :sortable => false,
          :align => 'center',
          :width => "30",
          :customFormatter => 'makeLink'
        }
      ],
      {
        :autowidth => true,
        :edit => false,
        :add => false,
        :view => false,
        :delete => false,
        :rowNum => 30,
        :rowList => [10,20,30,50],
        :height => 230,
      }
    ) %>
    </table>
  </div><!-- end of right content-->
</div>

<script type="text/javascript">
  function makeLink(cellvalue, options, rowObject){
    var url = "/admin/receivers_locations/"
    showUrl = url + cellvalue;
    return "<a href='" + showUrl + "'>地図</a>";
  }
</script>
